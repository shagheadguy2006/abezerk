#include <gb/gb.h>
#include <stdio.h>
#include <stdlib.h>


unsigned char player[] =
{
  0x3C,0x3C,0x24,0x3C,0x24,0x3C,0x24,0x3C,
  0x3C,0x3C,0x18,0x18,0x7E,0x7E,0x5A,0x5A,
  0x5A,0x5A,0x5A,0x5A,0x18,0x18,0x3C,0x3C,
  0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,
  0x3C,0x3C,0x24,0x3C,0x24,0x3C,0x24,0x3C,
  0x3C,0x3C,0x18,0x18,0x7E,0x7E,0x5A,0x5A,
  0x5A,0x5A,0x1A,0x1A,0x18,0x18,0x3C,0x3C,
  0x24,0x24,0x24,0x24,0x24,0x24,0x20,0x20,
  0x3C,0x3C,0x24,0x3C,0x24,0x3C,0x24,0x3C,
  0x3C,0x3C,0x18,0x18,0x7E,0x7E,0x5A,0x5A,
  0x5A,0x5A,0x58,0x58,0x18,0x18,0x3C,0x3C,
  0x24,0x24,0x24,0x24,0x24,0x24,0x04,0x04,
  0x3C,0x3C,0x7E,0x66,0xFF,0xC3,0xC3,0xBD,
  0xC3,0xBD,0xFF,0x81,0xFF,0xFF,0x34,0x2C,
  0xEF,0xF7,0xB5,0xAD,0xAD,0xB5,0xBD,0xBD,
  0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,
  0x3C,0x3C,0x7E,0x66,0xFF,0xC3,0xC3,0xBD,
  0xC3,0xBD,0xFF,0x81,0xFF,0xFF,0x34,0x2C,
  0xEF,0xF7,0xB5,0xAD,0xAD,0xB5,0x3D,0x3D,
  0x24,0x24,0x24,0x24,0x24,0x24,0x20,0x20,
  0x3C,0x3C,0x7E,0x66,0xFF,0xC3,0xC3,0xBD,
  0xC3,0xBD,0xFF,0x81,0xFF,0xFF,0x34,0x2C,
  0xEF,0xF7,0xB5,0xAD,0xAD,0xB5,0xBC,0xBC,
  0x24,0x24,0x24,0x24,0x24,0x24,0x04,0x04,
  0x00,0x00,0x00,0x80,0x00,0x40,0x00,0x20,
  0x00,0x90,0x00,0x48,0x00,0x24,0x00,0x94,
  0x00,0x94,0x00,0x24,0x00,0x48,0x00,0x90,
  0x00,0x20,0x00,0x40,0x00,0x80,0x00,0x00,
  0x66,0x18,0x66,0x18,0x66,0x18,0x66,0x18,
  0xC3,0x3C,0xC3,0x3C,0xC3,0x3C,0xC3,0x3C,
  0xC3,0x3C,0xC3,0x3C,0xC3,0x3C,0xC3,0x3C,
  0x66,0x18,0x66,0x18,0x66,0x18,0x66,0x18,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char tiles[] =
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,
  0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,
  0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,
  0xFF,0x00,0xFF,0x00,0xFF,0x00,0xFF,0x00,
  0xAA,0x00,0x55,0x00,0xAA,0x00,0x55,0x00,
  0xAA,0x00,0x55,0x00,0xAA,0x00,0x55,0x00,
  0x00,0xAA,0x00,0x55,0x00,0xAA,0x00,0x55,
  0x00,0xAA,0x00,0x55,0x00,0xAA,0x00,0x55,
  0xAA,0xAA,0x55,0x55,0xAA,0xAA,0x55,0x55,
  0xAA,0xAA,0x55,0x55,0xAA,0xAA,0x55,0x55,
  0x7E,0x00,0xFF,0x3C,0xFF,0x7E,0xFF,0x7E,
  0xFF,0x7E,0xFF,0x7E,0xFF,0x7E,0xFF,0x7E,
  0xFF,0x7E,0xFF,0x7E,0xFF,0x7E,0xFF,0x7E,
  0xFF,0x7E,0xC3,0x7E,0x81,0x7E,0xFF,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char numbers[] =
{
  0x7E,0x7E,0x66,0x66,0x66,0x66,0x7E,0x7E,
  0x7E,0x7E,0x66,0x66,0x66,0x66,0x66,0x66,
  0x7C,0x7C,0x7E,0x7E,0x42,0x42,0x7E,0x7E,
  0x7E,0x7E,0x42,0x42,0x7E,0x7E,0x7C,0x7C,
  0x7E,0x7E,0x7E,0x7E,0x60,0x60,0x60,0x60,
  0x60,0x60,0x60,0x60,0x7E,0x7E,0x7E,0x7E,
  0x7C,0x7C,0x66,0x66,0x66,0x66,0x66,0x66,
  0x66,0x66,0x66,0x66,0x66,0x66,0x7C,0x7C,
  0x7E,0x7E,0x7E,0x7E,0x40,0x40,0x7E,0x7E,
  0x7E,0x7E,0x40,0x40,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x40,0x40,0x7E,0x7E,
  0x7E,0x7E,0x60,0x60,0x60,0x60,0x60,0x60,
  0x7E,0x7E,0x7E,0x7E,0x40,0x40,0x40,0x40,
  0x5E,0x5E,0x5E,0x5E,0x46,0x46,0x7E,0x7E,
  0x66,0x66,0x66,0x66,0x66,0x66,0x7E,0x7E,
  0x7E,0x7E,0x66,0x66,0x66,0x66,0x66,0x66,
  0x7E,0x7E,0x7E,0x7E,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x78,0x78,0x78,0x78,
  0x66,0x66,0x66,0x66,0x6E,0x6E,0x7C,0x7C,
  0x7C,0x7C,0x6E,0x6E,0x66,0x66,0x66,0x66,
  0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,
  0x60,0x60,0x60,0x60,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x5A,0x5A,0x5A,0x5A,
  0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,
  0x7E,0x7E,0x7E,0x7E,0x66,0x66,0x66,0x66,
  0x66,0x66,0x66,0x66,0x66,0x66,0x66,0x66,
  0x7E,0x7E,0x7E,0x7E,0x66,0x66,0x66,0x66,
  0x66,0x66,0x66,0x66,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x42,0x42,0x7E,0x7E,
  0x7E,0x7E,0x60,0x60,0x60,0x60,0x60,0x60,
  0x7E,0x7E,0x7E,0x7E,0x62,0x62,0x62,0x62,
  0x66,0x66,0x6C,0x6C,0x7E,0x7E,0x76,0x76,
  0x7E,0x7E,0x7E,0x7E,0x42,0x42,0x7E,0x7E,
  0x7E,0x7E,0x7C,0x7C,0x6E,0x6E,0x6E,0x6E,
  0x7E,0x7E,0x7E,0x7E,0x40,0x40,0x7E,0x7E,
  0x7E,0x7E,0x02,0x02,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x66,0x66,0x66,0x66,0x66,0x66,0x66,0x66,
  0x66,0x66,0x66,0x66,0x7E,0x7E,0x7E,0x7E,
  0x66,0x66,0x66,0x66,0x66,0x66,0x66,0x66,
  0x66,0x66,0x24,0x24,0x3C,0x3C,0x18,0x18,
  0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,0x5A,
  0x5A,0x5A,0x5A,0x5A,0x7E,0x7E,0x7E,0x7E,
  0x66,0x66,0x66,0x66,0x24,0x24,0x3C,0x3C,
  0x3C,0x3C,0x24,0x24,0x66,0x66,0x66,0x66,
  0x66,0x66,0x66,0x66,0x7E,0x7E,0x7E,0x7E,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x7E,0x7E,0x7E,0x7E,0x0C,0x0C,0x1C,0x1C,
  0x38,0x38,0x30,0x30,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x42,0x42,0x42,0x42,
  0x42,0x42,0x42,0x42,0x7E,0x7E,0x7E,0x7E,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x7E,0x7E,0x7E,0x7E,0x0C,0x0C,0x18,0x18,
  0x38,0x38,0x38,0x38,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x02,0x02,0x7E,0x7E,
  0x7E,0x7E,0x02,0x02,0x7E,0x7E,0x7E,0x7E,
  0x66,0x66,0x66,0x66,0x66,0x66,0x7E,0x7E,
  0x7E,0x7E,0x06,0x06,0x06,0x06,0x06,0x06,
  0x7E,0x7E,0x7E,0x7E,0x40,0x40,0x7E,0x7E,
  0x06,0x06,0x06,0x06,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x60,0x60,0x60,0x60,
  0x7E,0x7E,0x66,0x66,0x66,0x66,0x7E,0x7E,
  0x7E,0x7E,0x7E,0x7E,0x06,0x06,0x06,0x06,
  0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
  0x7E,0x7E,0x7E,0x7E,0x42,0x42,0x7E,0x7E,
  0x42,0x42,0x42,0x42,0x7E,0x7E,0x7E,0x7E,
  0x7E,0x7E,0x46,0x46,0x46,0x46,0x7E,0x7E,
  0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
  0x18,0x18,0x3C,0x3C,0x7E,0x7E,0x5A,0x5A,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x00,0x00,0x0C,0x0C,0x06,0x06,0xFF,0xFF,
  0xFF,0xFF,0x06,0x06,0x0C,0x0C,0x00,0x00,
  0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
  0x5A,0x5A,0x7E,0x7E,0x3C,0x3C,0x18,0x18,
  0x00,0x00,0x30,0x30,0x60,0x60,0xFF,0xFF,
  0xFF,0xFF,0x60,0x60,0x30,0x30,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

unsigned char title[] =
{
  0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x00,0x00,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x01,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x00,0x01,0x00,0x01,0x01,0x00,0x00,0x01,
  0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x02,0x02,0x00,
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
  0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,
  0x01,0x01,0x00,0x01,0x00,0x01,0x00,0x02,0x02,0x00,
  0x00,0x00,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x01,
  0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x00,
  0x00,0x00,0x01,0x00,0x00,0x01,0x01,0x01,0x00,0x01,
  0x01,0x01,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
  0x00,0x01,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x01,
  0x01,0x00,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x00,
  0x00,0x01,0x01,0x01,0x00,0x01,0x01,0x01,0x00,0x01,
  0x00,0x01,0x00,0x01,0x00,0x01,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x06,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
  0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x06,
  0x06,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,
  0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x06,
  0x06,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,
  0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x05,0x06,
  0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
  0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06
};

unsigned char map1[] =
{
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x02,0x02,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x02,0x02,0x02,0x02,0x02,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,
  0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x02,
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
  0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02
};

void main(){
	int x = 32;
	int y = 32;
	int enemyX = 72;
	int enemyY = 72;
	int score = 0;
	set_win_data(0, 40, numbers);
	set_bkg_data(0, 9, tiles);
	set_bkg_tiles(0, 0, 20, 18, title);
	SHOW_BKG;
	waitpad(J_START);
	set_bkg_tiles(0, 0, 20, 18, map1);
	SPRITES_8x16;
	set_sprite_data(0, 8, player);
	set_sprite_tile(0, 1);
	move_sprite(0, x, y);
	SHOW_SPRITES;
	
	while(1){
		delay(150);
		if(joypad() == J_UP){
			y -= 8;
			move_sprite(0, x, y);
		}
		if(joypad() == J_DOWN){
			y += 8;
			move_sprite(0, x, y);
		}
		if(joypad() == J_LEFT){
			x -= 8;
			move_sprite(0, x, y);
		}
		if(joypad() == J_RIGHT){
			x += 8;
			move_sprite(0, x, y);
		}
	}
}